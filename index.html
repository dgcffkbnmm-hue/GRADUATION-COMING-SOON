<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Loading… Festa di laurea</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background:
        linear-gradient(180deg, rgba(2, 6, 23, 0.65) 0%, rgba(2, 6, 23, 0.85) 35%, #020617 100%),
        url("bg.jpg") center/cover fixed no-repeat;
      color: #f9fafb;
      position: relative;
      overflow: hidden;
    }

    /* ===========================
       AURORA BOREALE
       =========================== */
    .aurora {
      position: fixed;
      inset: -25%;
      pointer-events: none;
      z-index: 0;
      opacity: 0;
      filter: blur(55px); /* forme un po' più visibili */
      mix-blend-mode: screen;
      background-repeat: no-repeat;
      background-size: 140% 140%;
    }

    .aurora-1 {
      background-image:
        radial-gradient(circle at 10% 0%, rgba(45, 212, 191, 0.6), transparent 60%),
        radial-gradient(circle at 70% 40%, rgba(56, 189, 248, 0.45), transparent 60%);
      animation: auroraWave1 26s ease-in-out infinite alternate;
    }

    .aurora-2 {
      background-image:
        radial-gradient(circle at 20% 80%, rgba(147, 51, 234, 0.45), transparent 58%),
        radial-gradient(circle at 90% 10%, rgba(59, 130, 246, 0.4), transparent 60%);
      animation: auroraWave2 32s ease-in-out infinite alternate;
    }

    .aurora-3 {
      background-image:
        radial-gradient(circle at 50% 10%, rgba(34, 197, 94, 0.4), transparent 60%),
        radial-gradient(circle at 80% 70%, rgba(129, 140, 248, 0.38), transparent 60%);
      animation: auroraWave3 38s ease-in-out infinite alternate;
    }

    @keyframes auroraWave1 {
      0% {
        transform: translate3d(-15%, 10%, 0) scale(1.05);
        opacity: 0;
      }
      25% {
        opacity: 0.28;
      }
      60% {
        transform: translate3d(5%, -5%, 0) scale(1.18);
        opacity: 0.32;
      }
      100% {
        transform: translate3d(20%, 20%, 0) scale(1.25);
        opacity: 0;
      }
    }

    @keyframes auroraWave2 {
      0% {
        transform: translate3d(10%, -10%, 0) scale(1.02);
        opacity: 0;
      }
      30% {
        opacity: 0.22;
      }
      70% {
        transform: translate3d(-10%, 15%, 0) scale(1.2);
        opacity: 0.3;
      }
      100% {
        transform: translate3d(-22%, 5%, 0) scale(1.28);
        opacity: 0;
      }
    }

    @keyframes auroraWave3 {
      0% {
        transform: translate3d(0%, 15%, 0) scale(1.05);
        opacity: 0;
      }
      40% {
        opacity: 0.18;
      }
      80% {
        transform: translate3d(10%, -15%, 0) scale(1.18);
        opacity: 0.25;
      }
      100% {
        transform: translate3d(-10%, 5%, 0) scale(1.26);
        opacity: 0;
      }
    }

    /* ===========================
       CONTENUTO
       =========================== */

    .overlay {
      position: relative;
      z-index: 1;
      max-width: 920px;
      width: 100%;
      padding: 2.5rem 1.5rem;
      display: grid;
      grid-template-columns: minmax(0, 2fr) minmax(0, 1.4fr);
      gap: 2rem;
    }

    @media (max-width: 768px) {
      .overlay {
        grid-template-columns: 1fr;
        padding: 1.9rem 1.2rem;
      }
    }

    .left {
      align-self: center;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .label {
      font-size: 0.7rem;
      letter-spacing: 0.28em;
      text-transform: uppercase;
      color: #9ca3af;
      margin-bottom: 1.8rem;
    }

    .meta-row {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.2em;
      color: #9ca3af;
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      margin-bottom: 0.75rem;
    }

    .meta-row span:nth-child(2) {
      color: #e5e7eb;
    }

    .bar-wrapper {
      margin: 1.8rem auto 0;
      width: 100%;
      max-width: 420px;
    }

    .bar-track {
      width: 100%;
      height: 18px;
      border-radius: 999px;
      border: 1px solid rgba(209, 213, 219, 0.6);
      padding: 2px;
      background: rgba(15, 23, 42, 0.8);
      overflow: hidden;
    }

    .bar-fill {
      width: 0%;
      height: 100%;
      border-radius: 999px;
      background: linear-gradient(90deg, #22c55e, #0ea5e9, #4f46e5, #a855f7);
      background-size: 200% 100%;
      box-shadow: 0 0 12px rgba(56, 189, 248, 0.4);
      transition: width 0.5s ease-out;
      animation: auroraBar 6s ease-in-out infinite alternate;
    }

    @keyframes auroraBar {
      0% {
        background-position: 0% 50%;
      }
      100% {
        background-position: 100% 50%;
      }
    }

    .loading-text {
      margin-top: 0.6rem;
      font-size: 0.75rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: #e5e7eb;
    }

    .loading-text span {
      display: block;
      font-size: 0.7rem;
      color: #9ca3af;
      margin-top: 0.2rem;
    }

    .right {
      align-self: center;
      text-align: right;
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.19em;
      color: #9ca3af;
    }

    .right-line {
      margin-bottom: 0.5rem;
    }

    @media (max-width: 768px) {
      .right {
        text-align: center;
      }
    }

    /* ===========================
       SCHERMATA FINALE LOCANDINA
       =========================== */

    .reveal {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at top, #020617 0%, #020617 55%, #000 100%);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.8s ease-out;
      z-index: 10;
      padding: 1.5rem;
    }

    .reveal.visible {
      opacity: 1;
      pointer-events: auto;
    }

    .poster-frame {
      max-width: 700px;
      width: 100%;
      background: #020617;
      border-radius: 1.5rem;
      border: 1px solid rgba(148, 163, 184, 0.6);
      box-shadow: 0 25px 60px rgba(0, 0, 0, 0.65);
      overflow: hidden;
    }

    .poster-frame img {
      display: block;
      width: 100%;
      height: auto;
    }

    .poster-caption {
      padding: 0.9rem 1.2rem;
      font-size: 0.75rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: #9ca3af;
      text-align: center;
    }
  </style>
</head>
<body>
  <!-- AURORA ANIMATA SOPRA ALLO SFONDO -->
  <div class="aurora aurora-1"></div>
  <div class="aurora aurora-2"></div>
  <div class="aurora aurora-3"></div>

  <!-- CONTENUTO PRINCIPALE -->
  <div class="overlay">
    <div class="left">
      <div class="label">loading sequence</div>

      <div class="meta-row">
        <span>status</span>
        <span>in progress</span>
      </div>
      <div class="meta-row">
        <span>access</span>
        <span>invite only</span>
      </div>

      <div class="bar-wrapper">
        <div class="bar-track">
          <div class="bar-fill" id="progressBar"></div>
        </div>
        <p class="loading-text">
          loading
          <span>please wait…</span>
        </p>
      </div>
    </div>

    <div class="right">
      <div class="right-line">coordinates: private</div>
      <div class="right-line">host: Lorenzo</div>
      <div class="right-line">access code: secret</div>
    </div>
  </div>

  <!-- SCHERMATA FINALE CON LOCANDINA -->
  <div class="reveal" id="reveal">
    <div class="poster-frame">
      <!-- Quando ce l'hai, metti qui la tua locandina con questo nome -->
      <img src="locandina-laurea.jpg" alt="Locandina festa di laurea" />
      <div class="poster-caption">
        festa di laurea – dettagli ufficiali
      </div>
    </div>
  </div>

  <script>
    // =====================================
    // VERSIONE TEST: BARRA COMPLETATA IN 2 MINUTI
    // =====================================
    const TEST_DURATION_MS = 2 * 60 * 1000; // 2 minuti

    // Alla apertura della pagina:
    const startDate = new Date();
    const endDate = new Date(startDate.getTime() + TEST_DURATION_MS);

    const progressBar = document.getElementById("progressBar");
    const reveal = document.getElementById("reveal");

    function updateProgress() {
      const now = new Date();

      if (now >= endDate) {
        progressBar.style.width = "100%";
        reveal.classList.add("visible");
        return;
      }

      const total = endDate - startDate;
      const elapsed = now - startDate;

      let percent = (elapsed / total) * 100;
      if (percent < 0) percent = 0;
      if (percent > 100) percent = 100;

      progressBar.style.width = percent.toFixed(2) + "%";
    }

    updateProgress();
    setInterval(updateProgress, 1000); // aggiorna ogni secondo per il test
  </script>
</body>
</html>
